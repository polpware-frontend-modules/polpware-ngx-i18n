{"version":3,"file":"polpware-ngx-i18n.mjs","sources":["../../../../projects/polpware/ngx-i18n/src/lib/services/utils.ts","../../../../projects/polpware/ngx-i18n/src/lib/services/ngx-translator-impl.service.ts","../../../../projects/polpware/ngx-i18n/src/lib/services/hyper-translator-pipe-base.ts","../../../../projects/polpware/ngx-i18n/src/lib/services/hyper-translator.pipe.ts","../../../../projects/polpware/ngx-i18n/src/lib/ngx-i18n.module.ts","../../../../projects/polpware/ngx-i18n/src/public_api.ts","../../../../projects/polpware/ngx-i18n/src/polpware-ngx-i18n.ts"],"sourcesContent":["/* tslint:disable */\r\n/**\r\n * Determines if two objects or two values are equivalent.\r\n *\r\n * Two objects or values are considered equivalent if at least one of the following is true:\r\n *\r\n * * Both objects or values pass `===` comparison.\r\n * * Both objects or values are of the same type and all of their properties are equal by\r\n *   comparing them with `equals`.\r\n *\r\n * @param o1 Object or value to compare.\r\n * @param o2 Object or value to compare.\r\n * @returns true if arguments are equal.\r\n */\r\nexport function equals(o1: any, o2: any): boolean {\r\n    if (o1 === o2) return true;\r\n    if (o1 === null || o2 === null) return false;\r\n    if (o1 !== o1 && o2 !== o2) return true; // NaN === NaN\r\n    let t1 = typeof o1, t2 = typeof o2, length: number, key: any, keySet: any;\r\n    if (t1 == t2 && t1 == 'object') {\r\n        if (Array.isArray(o1)) {\r\n            if (!Array.isArray(o2)) return false;\r\n            if ((length = o1.length) == o2.length) {\r\n                for (key = 0; key < length; key++) {\r\n                    if (!equals(o1[key], o2[key])) return false;\r\n                }\r\n                return true;\r\n            }\r\n        } else {\r\n            if (Array.isArray(o2)) {\r\n                return false;\r\n            }\r\n            keySet = Object.create(null);\r\n            for (key in o1) {\r\n                if (!equals(o1[key], o2[key])) {\r\n                    return false;\r\n                }\r\n                keySet[key] = true;\r\n            }\r\n            for (key in o2) {\r\n                if (!(key in keySet) && typeof o2[key] !== 'undefined') {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/* tslint:enable */\r\n\r\nexport function isDefined(value: any): boolean {\r\n    return typeof value !== 'undefined' && value !== null;\r\n}\r\n\r\nexport function isObject(item: any): boolean {\r\n    return (item && typeof item === 'object' && !Array.isArray(item));\r\n}\r\n\r\nexport function mergeDeep(target: any, source: any): any {\r\n    let output = Object.assign({}, target);\r\n    if (isObject(target) && isObject(source)) {\r\n        Object.keys(source).forEach((key: any) => {\r\n            if (isObject(source[key])) {\r\n                if (!(key in target)) {\r\n                    Object.assign(output, { [key]: source[key] });\r\n                } else {\r\n                    output[key] = mergeDeep(target[key], source[key]);\r\n                }\r\n            } else {\r\n                Object.assign(output, { [key]: source[key] });\r\n            }\r\n        });\r\n    }\r\n    return output;\r\n}\r\n\r\n/**\r\n * Replaces the parameters in the given string. A parameter is delimited by a \r\n * a pair of double braces. E.g., {{name}}\r\n * @param format The given string\r\n * @param params An object defining the values of the parameters in the string. \r\n */\r\nexport function replaceParams(format: string, params: { [key: string]: any }): string {\r\n    /*jslint unparam: true */\r\n    return format.replace(/\\{\\{([a-zA-Z]+)\\}\\}/g, function(s, key) {\r\n        return (typeof params[key] === 'undefined') ? '' : params[key];\r\n    });\r\n}\r\n\r\n/**\r\n * Looks up the given key for its corresponding values\r\n * in the given resources.\r\n * @param resources Resources \r\n * @param key String\r\n * @param interpolateParams The values for the parameters.\r\n */\r\nexport function lookupDeeply(resources: { [key: string]: any }, key: string | Array<string>, interpolateParams?: Object): string {\r\n    // Get\r\n    let ks: Array<string> = [];\r\n    if (typeof key == 'string') {\r\n        ks = key.split('.');\r\n    } else {\r\n        ks = key as Array<string>;\r\n    }\r\n\r\n    ks = ks.filter(a => a);\r\n\r\n    let res = resources;\r\n    for (let i = 0; i < ks.length; i++) {\r\n        const c = ks[i];\r\n        if (res[c]) {\r\n            res = res[c];\r\n        }\r\n        else {\r\n            res = undefined;\r\n            break;\r\n        }\r\n    }\r\n\r\n    let s: string = undefined;\r\n    if (res !== undefined && typeof res == 'string') {\r\n        s = res;\r\n        if (interpolateParams) {\r\n            s = replaceParams(res, interpolateParams);\r\n        }\r\n    }\r\n\r\n    const v = s !== undefined ? s : ks.join('.');\r\n    return v;\r\n}\r\n","import { EventEmitter } from \"@angular/core\";\nimport { Observable, of } from \"rxjs\";\nimport { DefaultLangChangeEvent, INgxTranslator, LangChangeEvent, TranslationChangeEvent } from '../interfaces/ngx-translator.interface';\nimport { lookupDeeply } from './utils';\n\n\n/* On purpose we do not make it injectable. \n   It is up to the host to define how to do this */\n\nexport class NgxTranslatorImplService implements INgxTranslator {\n\n\n    protected _dict: { [key: string]: any } = {};\n\n    onTranslationChange: EventEmitter<TranslationChangeEvent> = new EventEmitter<TranslationChangeEvent>();\n    onLangChange: EventEmitter<LangChangeEvent> = new EventEmitter<LangChangeEvent>();\n    onDefaultLangChange: EventEmitter<DefaultLangChangeEvent> = new EventEmitter<DefaultLangChangeEvent>();\n\n    defaultLang = '';\n\n    currentLang = '';\n\n    langs = [];\n\n    public getParsedResult(translations: any, key: any, interpolateParams?: Object): any {\n        return key;\n    }\n\n    public get(key: string | Array<string>, interpolateParams?: Object): Observable<string | any> {\n        const v = lookupDeeply(this._dict, key, interpolateParams);\n        return of(v);\n    }\n\n    public loadResources(resources: { [key: string]: any }) {\n        // todo: A better implementation\n        Object.assign(this._dict, resources);\n    }\n}\n","import { ChangeDetectorRef, Directive, Injectable, OnDestroy, Pipe, PipeTransform } from '@angular/core';\nimport { isObservable, Subscription } from 'rxjs';\nimport { INgxTranslator, LangChangeEvent, TranslationChangeEvent } from '../interfaces/ngx-translator.interface';\nimport { equals, isDefined } from './utils';\n\n// TODO: Add Angular decorator.\n@Pipe({\n    name: \"hyperTransBase\"\n})\nexport abstract class HyperTranslatePipeBase implements PipeTransform, OnDestroy {\n    value: string = '';\n    lastKey: string | null = null;\n    lastParams: any[] = [];\n    onTranslationChange: Subscription | undefined;\n    onLangChange: Subscription | undefined;\n    onDefaultLangChange: Subscription | undefined;\n\n    protected _translate: INgxTranslator;\n    protected _ref: ChangeDetectorRef;\n\n    updateValue(key: string, interpolateParams?: Object, translations?: any): void {\n        let onTranslation = (res: string) => {\n            this.value = res !== undefined ? res : key;\n            this.lastKey = key;\n            this._ref.markForCheck();\n        };\n        if (translations) {\n            let res = this._translate.getParsedResult(translations, key, interpolateParams);\n            if (isObservable(res.subscribe)) {\n                res.subscribe(onTranslation);\n            } else {\n                onTranslation(res);\n            }\n        }\n        this._translate.get(key, interpolateParams).subscribe(onTranslation);\n    }\n\n    transform(query: string, ...args: any[]): any {\n        if (!query || !query.length) {\n            return query;\n        }\n\n        // if we ask another time for the same key, return the last value\n        if (equals(query, this.lastKey) && equals(args, this.lastParams)) {\n            return this.value;\n        }\n\n        let interpolateParams: Object | undefined = undefined;\n        if (isDefined(args[0]) && args.length) {\n            if (typeof args[0] === 'string' && args[0].length) {\n                // we accept objects written in the template such as {n:1}, {'n':1}, {n:'v'}\n                // which is why we might need to change it to real JSON objects such as {\"n\":1} or {\"n\":\"v\"}\n                let validArgs: string = args[0]\n                    .replace(/(\\')?([a-zA-Z0-9_]+)(\\')?(\\s)?:/g, '\"$2\":')\n                    .replace(/:(\\s)?(\\')(.*?)(\\')/g, ':\"$3\"');\n                try {\n                    interpolateParams = JSON.parse(validArgs);\n                } catch (e) {\n                    throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${args[0]}`);\n                }\n            } else if (typeof args[0] === 'object' && !Array.isArray(args[0])) {\n                interpolateParams = args[0];\n            }\n        }\n\n        // store the query, in case it changes\n        this.lastKey = query;\n\n        // store the params, in case they change\n        this.lastParams = args;\n\n        // set the value\n        this.updateValue(query, interpolateParams);\n\n        // if there is a subscription to onLangChange, clean it\n        this._dispose();\n\n        // subscribe to onTranslationChange event, in case the translations change\n        if (!this.onTranslationChange) {\n            this.onTranslationChange = this._translate.onTranslationChange.subscribe((event: TranslationChangeEvent) => {\n                if (this.lastKey && event.lang === this._translate.currentLang) {\n                    this.lastKey = null;\n                    this.updateValue(query, interpolateParams, event.translations);\n                }\n            });\n        }\n\n        // subscribe to onLangChange event, in case the language changes\n        if (!this.onLangChange) {\n            this.onLangChange = this._translate.onLangChange.subscribe((event: LangChangeEvent) => {\n                if (this.lastKey) {\n                    this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n                    this.updateValue(query, interpolateParams, event.translations);\n                }\n            });\n        }\n\n        // subscribe to onDefaultLangChange event, in case the default language changes\n        if (!this.onDefaultLangChange) {\n            this.onDefaultLangChange = this._translate.onDefaultLangChange.subscribe(() => {\n                if (this.lastKey) {\n                    this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n                    this.updateValue(query, interpolateParams);\n                }\n            });\n        }\n\n        return this.value;\n    }\n\n    /**\n     * Clean any existing subscription to change events\n     */\n    private _dispose(): void {\n        if (typeof this.onTranslationChange !== 'undefined') {\n            this.onTranslationChange.unsubscribe();\n            this.onTranslationChange = undefined;\n        }\n        if (typeof this.onLangChange !== 'undefined') {\n            this.onLangChange.unsubscribe();\n            this.onLangChange = undefined;\n        }\n        if (typeof this.onDefaultLangChange !== 'undefined') {\n            this.onDefaultLangChange.unsubscribe();\n            this.onDefaultLangChange = undefined;\n        }\n    }\n\n    ngOnDestroy(): void {\n        this._dispose();\n    }\n}\n","import { ChangeDetectorRef, Injectable, Pipe } from '@angular/core';\r\nimport { HyperTranslatePipeBase } from './hyper-translator-pipe-base';\r\nimport { NgxTranslatorImplService } from './ngx-translator-impl.service';\r\n\r\n@Injectable()\r\n@Pipe({\r\n    name: 'hyperTrans',\r\n    pure: false // required to update the value when the promise is resolved\r\n})\r\nexport class HyperTranslatePipe extends HyperTranslatePipeBase {\r\n\r\n    constructor(protected _translate: NgxTranslatorImplService, protected _ref: ChangeDetectorRef) {\r\n        super();\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { HyperTranslatePipe } from './services/hyper-translator.pipe';\n\n@NgModule({\n    declarations: [HyperTranslatePipe],\n    imports: [\n        CommonModule,\n    ],\n    exports: [HyperTranslatePipe]\n})\nexport class NgxI18nModule { }\n","/*\n * Public API Surface of ngx-i18n\n */\n\nexport * from './lib/interfaces/ngx-translator.interface';\nexport * from './lib/services/ngx-translator-impl.service';\nexport * from './lib/services/hyper-translator-pipe-base';\nexport * from './lib/services/hyper-translator.pipe';\nexport * from './lib/ngx-i18n.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1.NgxTranslatorImplService"],"mappings":"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"}