!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@polpware/fe-dependencies"),require("@polpware/fe-utilities"),require("@polpware/fe-data")):"function"==typeof define&&define.amd?define("@polpware/ngx-i18n",["exports","@angular/core","@polpware/fe-dependencies","@polpware/fe-utilities","@polpware/fe-data"],r):r((e.polpware=e.polpware||{},e.polpware["ngx-i18n"]={}),e.ng.core,e.externalInterface,e.feUtilities,e.feData)}(this,function(e,r,n,o,i){"use strict";var u=n.underscore;var t=function(){function e(e){var r=new i.SlidingExpirationCache(180,300,e);this._resourceLoader=new i.ResourceLoader(r)}return Object.defineProperty(e.prototype,"resourceLoader",{get:function(){return this._resourceLoader},enumerable:!0,configurable:!0}),e.prototype.loadPromise=function(r,n){var t=this._resourceLoader;return t.getPromise("lang.options",function(e){return e}).then(function(e){return i.loadJsonUriP(e)}).then(function(e){return function o(e,r){var n=r||"en-us",t=u.find(e,function(e){return e.code.substring(0,2)===n.substring(0,2)});return t&&(n=t.code),n}(e,r)}).then(function(e){if(e===n)throw new Error("Loading the current language: "+e);return e}).then(function(e){return r=e,t.getPromise("lang.urlTmpl",function(e){return e})}).then(function(e){return o.replace(e,{code:r})}).then(function(e){return i.loadJsonUriP(e)}).then(function(e){return i.I18n.add(e.code,e.items),i.I18n.recycleOthers(e.code),e})},e.prototype.loadOptionPromise=function(){return this._resourceLoader.getPromise("lang.options",function(e){return e}).then(function(e){return i.loadJsonUriP(e)})},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:r.NgZone}]},e}();e.ResourceLoaderService=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polpware-ngx-i18n.umd.min.js.map